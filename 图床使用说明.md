# 图床使用说明

## 概述

本项目使用 GitHub + jsDelivr CDN 作为图床，所有图片通过 CDN 加速加载，提升网站访问速度。

## 图床仓库信息

- **仓库名**: `mizuki-assets`
- **GitHub 地址**: `https://github.com/catcat873/mizuki-assets`
- **分支**: `main`
- **CDN 基础地址**: `https://cdn.jsdelivr.net/gh/catcat873/mizuki-assets@main/public`

## 目录结构

```
mizuki-assets/
└── public/
    └── images/
        ├── study/
        │   ├── mysql/          # MySQL 学习文章图片
        │   ├── frontend/       # 前端学习文章图片
        │   └── backend/        # 后端学习文章图片
        ├── posts/              # 其他文章图片
        └── assets/             # 网站资源图片
```

## 使用流程

### 1. 上传图片到图床

#### 方法一：通过 GitHub 网页上传（推荐）

1. 访问 `https://github.com/catcat873/mizuki-assets`
2. 点击 **"Add file"** → **"Upload files"**
3. 选择图片文件
4. 在文件名输入框中输入完整路径：
   ```
   public/images/study/mysql/图片名.png
   ```
5. 填写提交信息，如：`Add MySQL study image`
6. 点击 **"Commit changes"**

#### 方法二：通过命令行上传

```bash
# 1. 克隆图床仓库（如果还没有）
git clone https://github.com/catcat873/mizuki-assets.git
cd mizuki-assets

# 2. 创建目录（如果需要）
mkdir -p public/images/study/mysql

# 3. 复制图片到对应目录
# 将图片文件复制到 public/images/study/mysql/ 目录下

# 4. 提交并推送
git add .
git commit -m "Add new images"
git push origin main
```

#### 方法三：通过 PicList 上传（最便捷）

1. 安装 PicList：从其发布页下载并安装（Windows/macOS 均支持）。
2. 准备 GitHub Token：前往 GitHub 开发者设置创建 Token，勾选 `repo` 权限，并保存。
3. 在 PicList 新建图床配置，关键项如下：
   - 仓库：`catcat873/mizuki-assets`
   - 分支：`main`
   - 存储路径（前缀）：`public/images/`
   - 文件名规则：`{year}{month}{day}-{hour}{minute}{second}-{rand:6}`
   - Token：上一条创建的 GitHub Token
   - CDN 访问模板：
     ```
     https://cdn.jsdelivr.net/gh/catcat873/mizuki-assets@main/{path}
     ```
4. 使用方式：
   - 将图片拖入 PicList 或使用截图快捷键上传。
   - 上传完成后，PicList 会自动复制 Markdown 链接。
   - 建议将分类目录写入上传路径（示例：`public/images/study/mysql/`）。

说明：`{path}` 会被 PicList 以仓库内实际保存路径替换，例如 `public/images/study/mysql/xxx.png`。

##### PicList 一键导入配置（JSON）

将以下内容保存为 `piclist-github-mizuki.json`，在 PicList 中导入即可（Token 请自行替换）：

```json
{
  "picBed": {
    "uploader": "github",
    "github": {
      "repo": "catcat873/mizuki-assets",
      "branch": "main",
      "token": "ghp_your_token_here",
      "path": "public/images/",
      "customUrl": "https://cdn.jsdelivr.net/gh/catcat873/mizuki-assets@main",
      "rename": "{year}{month}{day}-{hour}{minute}{second}-{rand:6}"
    }
  }
}
```

使用说明：
- 导入后可直接拖拽/截图上传，PicList 会返回 Markdown 链接。
- 如需按分类存放（如 `study/mysql/`），在上传对话框的路径中追加子目录，或在 PicList 的规则里为不同分类创建多个预设。
- 若遇到 CDN 缓存未更新，可在链接后加 `?v=时间戳` 强制刷新。

### 2. 在文章中使用图片

#### 封面图片（frontmatter）

```yaml
---
title: 文章标题
image: "https://cdn.jsdelivr.net/gh/catcat873/mizuki-assets@main/public/images/study/mysql/图片名.png"
---
```

#### 文章内图片

```markdown
![图片描述](https://cdn.jsdelivr.net/gh/catcat873/mizuki-assets@main/public/images/study/mysql/图片名.png)
```

## 不同分类的图片路径

### MySQL 学习文章
```
https://cdn.jsdelivr.net/gh/catcat873/mizuki-assets@main/public/images/study/mysql/图片名.png
```

### 前端学习文章
```
https://cdn.jsdelivr.net/gh/catcat873/mizuki-assets@main/public/images/study/frontend/图片名.png
```

### 后端学习文章
```
https://cdn.jsdelivr.net/gh/catcat873/mizuki-assets@main/public/images/study/backend/图片名.png
```

### 其他文章
```
https://cdn.jsdelivr.net/gh/catcat873/mizuki-assets@main/public/images/posts/图片名.png
```

## 图片命名规范

### 建议的命名格式
- **日期 + 描述**: `20250911-mysql-ddl-syntax.png`
- **分类 + 序号**: `mysql-01-ddl-basics.png`
- **功能 + 描述**: `insert-syntax-example.png`

### 文件格式建议
- **优先使用**: `.png`（支持透明背景）
- **备选格式**: `.jpg`（文件更小）
- **现代格式**: `.webp`（压缩率更高）

## 注意事项

### 1. 图片大小优化
- 建议图片宽度不超过 1200px
- 文件大小控制在 500KB 以内
- 可以使用在线工具压缩图片

### 2. CDN 缓存
- jsDelivr 有缓存机制，图片更新可能需要等待
- 如需立即更新，可在 URL 后添加版本参数：
  ```
  https://cdn.jsdelivr.net/gh/catcat873/mizuki-assets@main/public/images/study/mysql/图片名.png?v=1
  ```

### 3. 备份建议
- 重要图片建议本地备份
- 图床仓库作为主要存储，本地作为备份

## 常见问题

### Q: 图片上传后无法访问？
A: 检查以下几点：
1. 图片是否上传到正确的目录
2. 文件名是否包含完整路径
3. 等待几分钟让 CDN 缓存更新

### Q: 图片加载很慢？
A: 可能的原因：
1. 图片文件过大，需要压缩
2. 网络问题，等待 CDN 缓存
3. 图片格式不合适，建议使用 WebP

### Q: 如何批量上传图片？
A: 可以：
1. 使用 GitHub 网页的批量上传功能
2. 通过命令行批量复制文件
3. 使用 Git 客户端工具

## 更新记录

- **2025-09-11**: 创建图床使用说明
- **2025-09-11**: 完成 MySQL 学习文章图片迁移

## 相关链接

- [jsDelivr CDN 文档](https://www.jsdelivr.com/)
- [GitHub 仓库管理](https://docs.github.com/)
- [图片优化工具](https://tinypng.com/)

---

**提示**: 如有问题，请检查图片路径是否正确，或等待 CDN 缓存更新。
