# 🌸 Mizuki 项目使用说明

## 📋 项目概述

Mizuki 是一个基于 Astro 构建的现代化静态博客模板，具有丰富的功能和精美的设计。本项目已集成了"岁月浅吟"功能，专门用于记录日常生活。

## 🚀 快速开始

### 环境要求
- Node.js >= 20
- pnpm >= 9
- Git

### 安装和运行
```bash
# 克隆项目
git clone <your-repo-url>
cd mizuki

# 安装依赖
pnpm install

# 启动开发服务器
pnpm dev

# 构建生产版本
pnpm build

# 预览生产版本
pnpm preview
```

## 📁 项目结构

```
mizuki/
├── src/
│   ├── components/          # 组件目录
│   ├── content/            # 内容目录
│   │   ├── posts/          # 博客文章
│   │   ├── memories/       # 岁月浅吟文章 ⭐
│   │   └── spec/           # 特殊页面内容
│   ├── layouts/            # 布局文件
│   ├── pages/              # 页面文件
│   │   ├── memories.astro  # 岁月浅吟主页面 ⭐
│   │   └── memories/       # 岁月浅吟文章页面 ⭐
│   ├── styles/             # 样式文件
│   ├── utils/              # 工具函数
│   └── config.ts           # 主配置文件
├── public/                 # 静态资源
│   └── images/
│       └── memories/       # 岁月浅吟图片存储 ⭐
├── docs/                   # 文档目录
└── 项目使用说明.md         # 本文档
```

## 🎯 核心功能

### 1. 博客文章管理
- **位置**: `src/content/posts/`
- **格式**: Markdown 文件
- **功能**: 支持标签、分类、置顶等

### 2. 岁月浅吟功能 ⭐
- **位置**: `src/content/memories/`
- **格式**: Markdown 文件
- **特色功能**:
  - 心情标签 (mood)
  - 天气记录 (weather)
  - 地点信息 (location)
  - 精选文章 (featured)

### 3. 相册功能
- **位置**: `src/data/albums.ts`
- **图片存储**: `public/images/albums/`

### 4. 其他页面
- 关于页面
- 项目展示
- 技能展示
- 时间线
- 日记页面

## 📝 内容创建指南

### 创建博客文章
1. 在 `src/content/posts/` 创建 `.md` 文件
2. 添加 front matter:
```yaml
---
title: "文章标题"
published: 2024-09-05
description: "文章描述"
tags: ["标签1", "标签2"]
category: "分类"
---
```

### 创建岁月浅吟文章 ⭐
1. 在 `src/content/memories/` 创建 `.md` 文件
2. 文件命名: `YYYY-MM-DD-标题.md`
3. 添加 front matter:
```yaml
---
title: "文章标题"
published: 2024-09-05
description: "文章描述"
image: "/images/memories/2024/09/图片.jpg"
tags: ["生活", "秋天"]
mood: "开心"
weather: "晴朗"
location: "家中"
featured: true
---
```

### 添加图片
- **博客文章图片**: `public/images/` 任意位置
- **岁月浅吟图片**: `public/images/memories/` 目录
- **相册图片**: `public/images/albums/` 目录

## ⚙️ 配置说明

### 主配置文件 (`src/config.ts`)
```typescript
export const siteConfig: SiteConfig = {
  title: "♡陈嘉薇♡",
  subtitle: "周咚咚の小窝",
  // ... 其他配置
};

export const navBarConfig: NavBarConfig = {
  links: [
    LinkPreset.Home,
    LinkPreset.Archive,
    {
      name: "我的",
      children: [
        LinkPreset.Diary,
        {
          name: "岁月浅吟",  // ⭐ 新增功能
          url: "/memories/",
          icon: "material-symbols:auto-stories",
        },
        // ... 其他菜单项
      ],
    },
  ],
};
```

### 内容集合配置 (`src/content/config.ts`)
```typescript
const memoriesCollection = defineCollection({
  schema: z.object({
    title: z.string(),
    published: z.date(),
    mood: z.string().optional().default(""),
    weather: z.string().optional().default(""),
    location: z.string().optional().default(""),
    featured: z.boolean().optional().default(false),
    // ... 其他字段
  }),
});
```

## 🎨 样式定制

### 主题颜色
在 `src/config.ts` 中修改:
```typescript
themeColor: {
  hue: 210,  // 色相值 (0-360)
  fixed: false,  // 是否固定主题色
}
```

### 自定义样式
- 全局样式: `src/styles/main.css`
- 组件样式: 各组件文件中的 `<style>` 标签
- 岁月浅吟样式: `src/pages/memories.astro` 和 `src/pages/memories/[...slug].astro`

## 📱 响应式设计

项目支持多种设备:
- **移动端**: < 768px
- **平板端**: 768px - 1024px  
- **桌面端**: > 1024px

## 🔧 开发工具

### 代码格式化
```bash
# 使用 Biome 格式化代码
pnpm format

# 检查代码质量
pnpm lint
```

### 内容管理
```bash
# 创建新文章 (如果有脚本)
node scripts/new-post.js
```

## 🚀 部署

### Netlify 部署
1. 连接 GitHub 仓库
2. 构建命令: `pnpm build`
3. 发布目录: `dist`
4. 自动部署

### Vercel 部署
1. 导入项目
2. 框架预设: Astro
3. 自动部署

### 其他静态托管
```bash
# 构建项目
pnpm build

# 上传 dist 目录到你的服务器
```

## 📚 文档资源

- **项目文档**: `docs/` 目录
- **岁月浅吟指南**: `docs/memories-usage.md`
- **相册使用指南**: `docs/album-user-guide.md`
- **多语言 README**: 
  - 中文: `README.md`
  - English: `README.en.md`
  - 日本語: `docs/README.ja.md`
  - 中文繁体: `docs/README.tw.md`

## 🆕 岁月浅吟功能详解 ⭐

### 功能特色
- **生活化记录**: 支持心情、天气、地点等元信息
- **精选功能**: 可以标记重要文章为精选
- **分类展示**: 按月份自动分组展示文章
- **响应式设计**: 适配不同设备屏幕
- **图片管理**: 专门的图片存储路径

### 使用方法
1. **访问页面**: 导航栏 → "我的" → "岁月浅吟"
2. **创建文章**: 在 `src/content/memories/` 创建 `.md` 文件
3. **添加图片**: 保存到 `public/images/memories/` 目录
4. **设置元信息**: 在 front matter 中配置心情、天气、地点等

### 页面结构
- **主页面**: `/memories/` - 显示所有文章
- **文章页面**: `/memories/[slug]/` - 显示单篇文章

## 🐛 常见问题

### Q: 如何修改网站标题？
A: 在 `src/config.ts` 中修改 `siteConfig.title`

### Q: 如何添加新的导航菜单？
A: 在 `src/config.ts` 的 `navBarConfig.links` 中添加

### Q: 岁月浅吟文章不显示？
A: 检查文章 front matter 格式是否正确，确保 `published` 字段存在

### Q: 图片不显示？
A: 检查图片路径是否正确，确保使用 `/images/` 开头的绝对路径

### Q: 如何修改主题颜色？
A: 在 `src/config.ts` 中修改 `themeColor.hue` 值

## 📞 技术支持

如果遇到问题，可以：
1. 查看项目文档
2. 检查控制台错误信息
3. 参考 Astro 官方文档
4. 提交 Issue 到项目仓库

## 🎉 开始使用

现在你可以：
1. 运行 `pnpm dev` 启动开发服务器
2. 访问 `http://localhost:4321` 查看网站
3. 访问 `http://localhost:4321/memories/` 查看岁月浅吟功能
4. 开始创建你的内容！

---

**祝你使用愉快！** 🌸
