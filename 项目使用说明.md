# ğŸŒ¸ Mizuki é¡¹ç›®ä½¿ç”¨è¯´æ˜

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

Mizuki æ˜¯ä¸€ä¸ªåŸºäº Astro æ„å»ºçš„ç°ä»£åŒ–é™æ€åšå®¢æ¨¡æ¿ï¼Œå…·æœ‰ä¸°å¯Œçš„åŠŸèƒ½å’Œç²¾ç¾çš„è®¾è®¡ã€‚æœ¬é¡¹ç›®å·²é›†æˆäº†"å²æœˆæµ…åŸ"åŠŸèƒ½ï¼Œä¸“é—¨ç”¨äºè®°å½•æ—¥å¸¸ç”Ÿæ´»ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 20
- pnpm >= 9
- Git

### å®‰è£…å’Œè¿è¡Œ
```bash
# å…‹éš†é¡¹ç›®
git clone <your-repo-url>
cd mizuki

# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬
pnpm preview
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
mizuki/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # ç»„ä»¶ç›®å½•
â”‚   â”œâ”€â”€ content/            # å†…å®¹ç›®å½•
â”‚   â”‚   â”œâ”€â”€ posts/          # åšå®¢æ–‡ç« 
â”‚   â”‚   â”œâ”€â”€ memories/       # å²æœˆæµ…åŸæ–‡ç«  â­
â”‚   â”‚   â””â”€â”€ spec/           # ç‰¹æ®Šé¡µé¢å†…å®¹
â”‚   â”œâ”€â”€ layouts/            # å¸ƒå±€æ–‡ä»¶
â”‚   â”œâ”€â”€ pages/              # é¡µé¢æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ memories.astro  # å²æœˆæµ…åŸä¸»é¡µé¢ â­
â”‚   â”‚   â””â”€â”€ memories/       # å²æœˆæµ…åŸæ–‡ç« é¡µé¢ â­
â”‚   â”œâ”€â”€ styles/             # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ config.ts           # ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”‚   â””â”€â”€ images/
â”‚       â””â”€â”€ memories/       # å²æœˆæµ…åŸå›¾ç‰‡å­˜å‚¨ â­
â”œâ”€â”€ docs/                   # æ–‡æ¡£ç›®å½•
â””â”€â”€ é¡¹ç›®ä½¿ç”¨è¯´æ˜.md         # æœ¬æ–‡æ¡£
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. åšå®¢æ–‡ç« ç®¡ç†
- **ä½ç½®**: `src/content/posts/`
- **æ ¼å¼**: Markdown æ–‡ä»¶
- **åŠŸèƒ½**: æ”¯æŒæ ‡ç­¾ã€åˆ†ç±»ã€ç½®é¡¶ç­‰

### 2. å²æœˆæµ…åŸåŠŸèƒ½ â­
- **ä½ç½®**: `src/content/memories/`
- **æ ¼å¼**: Markdown æ–‡ä»¶
- **ç‰¹è‰²åŠŸèƒ½**:
  - å¿ƒæƒ…æ ‡ç­¾ (mood)
  - å¤©æ°”è®°å½• (weather)
  - åœ°ç‚¹ä¿¡æ¯ (location)
  - ç²¾é€‰æ–‡ç«  (featured)

### 3. ç›¸å†ŒåŠŸèƒ½
- **ä½ç½®**: `src/data/albums.ts`
- **å›¾ç‰‡å­˜å‚¨**: `public/images/albums/`

### 4. å…¶ä»–é¡µé¢
- å…³äºé¡µé¢
- é¡¹ç›®å±•ç¤º
- æŠ€èƒ½å±•ç¤º
- æ—¶é—´çº¿
- æ—¥è®°é¡µé¢

## ğŸ“ å†…å®¹åˆ›å»ºæŒ‡å—

### åˆ›å»ºåšå®¢æ–‡ç« 
1. åœ¨ `src/content/posts/` åˆ›å»º `.md` æ–‡ä»¶
2. æ·»åŠ  front matter:
```yaml
---
title: "æ–‡ç« æ ‡é¢˜"
published: 2024-09-05
description: "æ–‡ç« æè¿°"
tags: ["æ ‡ç­¾1", "æ ‡ç­¾2"]
category: "åˆ†ç±»"
---
```

### åˆ›å»ºå²æœˆæµ…åŸæ–‡ç«  â­
1. åœ¨ `src/content/memories/` åˆ›å»º `.md` æ–‡ä»¶
2. æ–‡ä»¶å‘½å: `YYYY-MM-DD-æ ‡é¢˜.md`
3. æ·»åŠ  front matter:
```yaml
---
title: "æ–‡ç« æ ‡é¢˜"
published: 2024-09-05
description: "æ–‡ç« æè¿°"
image: "/images/memories/2024/09/å›¾ç‰‡.jpg"
tags: ["ç”Ÿæ´»", "ç§‹å¤©"]
mood: "å¼€å¿ƒ"
weather: "æ™´æœ—"
location: "å®¶ä¸­"
featured: true
---
```

### æ·»åŠ å›¾ç‰‡
- **åšå®¢æ–‡ç« å›¾ç‰‡**: `public/images/` ä»»æ„ä½ç½®
- **å²æœˆæµ…åŸå›¾ç‰‡**: `public/images/memories/` ç›®å½•
- **ç›¸å†Œå›¾ç‰‡**: `public/images/albums/` ç›®å½•

## âš™ï¸ é…ç½®è¯´æ˜

### ä¸»é…ç½®æ–‡ä»¶ (`src/config.ts`)
```typescript
export const siteConfig: SiteConfig = {
  title: "â™¡é™ˆå˜‰è–‡â™¡",
  subtitle: "å‘¨å’šå’šã®å°çª",
  // ... å…¶ä»–é…ç½®
};

export const navBarConfig: NavBarConfig = {
  links: [
    LinkPreset.Home,
    LinkPreset.Archive,
    {
      name: "æˆ‘çš„",
      children: [
        LinkPreset.Diary,
        {
          name: "å²æœˆæµ…åŸ",  // â­ æ–°å¢åŠŸèƒ½
          url: "/memories/",
          icon: "material-symbols:auto-stories",
        },
        // ... å…¶ä»–èœå•é¡¹
      ],
    },
  ],
};
```

### å†…å®¹é›†åˆé…ç½® (`src/content/config.ts`)
```typescript
const memoriesCollection = defineCollection({
  schema: z.object({
    title: z.string(),
    published: z.date(),
    mood: z.string().optional().default(""),
    weather: z.string().optional().default(""),
    location: z.string().optional().default(""),
    featured: z.boolean().optional().default(false),
    // ... å…¶ä»–å­—æ®µ
  }),
});
```

## ğŸ¨ æ ·å¼å®šåˆ¶

### ä¸»é¢˜é¢œè‰²
åœ¨ `src/config.ts` ä¸­ä¿®æ”¹:
```typescript
themeColor: {
  hue: 210,  // è‰²ç›¸å€¼ (0-360)
  fixed: false,  // æ˜¯å¦å›ºå®šä¸»é¢˜è‰²
}
```

### è‡ªå®šä¹‰æ ·å¼
- å…¨å±€æ ·å¼: `src/styles/main.css`
- ç»„ä»¶æ ·å¼: å„ç»„ä»¶æ–‡ä»¶ä¸­çš„ `<style>` æ ‡ç­¾
- å²æœˆæµ…åŸæ ·å¼: `src/pages/memories.astro` å’Œ `src/pages/memories/[...slug].astro`

## ğŸ“± å“åº”å¼è®¾è®¡

é¡¹ç›®æ”¯æŒå¤šç§è®¾å¤‡:
- **ç§»åŠ¨ç«¯**: < 768px
- **å¹³æ¿ç«¯**: 768px - 1024px  
- **æ¡Œé¢ç«¯**: > 1024px

## ğŸ”§ å¼€å‘å·¥å…·

### ä»£ç æ ¼å¼åŒ–
```bash
# ä½¿ç”¨ Biome æ ¼å¼åŒ–ä»£ç 
pnpm format

# æ£€æŸ¥ä»£ç è´¨é‡
pnpm lint
```

### å†…å®¹ç®¡ç†
```bash
# åˆ›å»ºæ–°æ–‡ç«  (å¦‚æœæœ‰è„šæœ¬)
node scripts/new-post.js
```

## ğŸš€ éƒ¨ç½²

### Netlify éƒ¨ç½²
1. è¿æ¥ GitHub ä»“åº“
2. æ„å»ºå‘½ä»¤: `pnpm build`
3. å‘å¸ƒç›®å½•: `dist`
4. è‡ªåŠ¨éƒ¨ç½²

### Vercel éƒ¨ç½²
1. å¯¼å…¥é¡¹ç›®
2. æ¡†æ¶é¢„è®¾: Astro
3. è‡ªåŠ¨éƒ¨ç½²

### å…¶ä»–é™æ€æ‰˜ç®¡
```bash
# æ„å»ºé¡¹ç›®
pnpm build

# ä¸Šä¼  dist ç›®å½•åˆ°ä½ çš„æœåŠ¡å™¨
```

## ğŸ“š æ–‡æ¡£èµ„æº

- **é¡¹ç›®æ–‡æ¡£**: `docs/` ç›®å½•
- **å²æœˆæµ…åŸæŒ‡å—**: `docs/memories-usage.md`
- **ç›¸å†Œä½¿ç”¨æŒ‡å—**: `docs/album-user-guide.md`
- **å¤šè¯­è¨€ README**: 
  - ä¸­æ–‡: `README.md`
  - English: `README.en.md`
  - æ—¥æœ¬èª: `docs/README.ja.md`
  - ä¸­æ–‡ç¹ä½“: `docs/README.tw.md`

## ğŸ†• å²æœˆæµ…åŸåŠŸèƒ½è¯¦è§£ â­

### åŠŸèƒ½ç‰¹è‰²
- **ç”Ÿæ´»åŒ–è®°å½•**: æ”¯æŒå¿ƒæƒ…ã€å¤©æ°”ã€åœ°ç‚¹ç­‰å…ƒä¿¡æ¯
- **ç²¾é€‰åŠŸèƒ½**: å¯ä»¥æ ‡è®°é‡è¦æ–‡ç« ä¸ºç²¾é€‰
- **åˆ†ç±»å±•ç¤º**: æŒ‰æœˆä»½è‡ªåŠ¨åˆ†ç»„å±•ç¤ºæ–‡ç« 
- **å“åº”å¼è®¾è®¡**: é€‚é…ä¸åŒè®¾å¤‡å±å¹•
- **å›¾ç‰‡ç®¡ç†**: ä¸“é—¨çš„å›¾ç‰‡å­˜å‚¨è·¯å¾„

### ä½¿ç”¨æ–¹æ³•
1. **è®¿é—®é¡µé¢**: å¯¼èˆªæ  â†’ "æˆ‘çš„" â†’ "å²æœˆæµ…åŸ"
2. **åˆ›å»ºæ–‡ç« **: åœ¨ `src/content/memories/` åˆ›å»º `.md` æ–‡ä»¶
3. **æ·»åŠ å›¾ç‰‡**: ä¿å­˜åˆ° `public/images/memories/` ç›®å½•
4. **è®¾ç½®å…ƒä¿¡æ¯**: åœ¨ front matter ä¸­é…ç½®å¿ƒæƒ…ã€å¤©æ°”ã€åœ°ç‚¹ç­‰

### é¡µé¢ç»“æ„
- **ä¸»é¡µé¢**: `/memories/` - æ˜¾ç¤ºæ‰€æœ‰æ–‡ç« 
- **æ–‡ç« é¡µé¢**: `/memories/[slug]/` - æ˜¾ç¤ºå•ç¯‡æ–‡ç« 

## ğŸ› å¸¸è§é—®é¢˜

### Q: å¦‚ä½•ä¿®æ”¹ç½‘ç«™æ ‡é¢˜ï¼Ÿ
A: åœ¨ `src/config.ts` ä¸­ä¿®æ”¹ `siteConfig.title`

### Q: å¦‚ä½•æ·»åŠ æ–°çš„å¯¼èˆªèœå•ï¼Ÿ
A: åœ¨ `src/config.ts` çš„ `navBarConfig.links` ä¸­æ·»åŠ 

### Q: å²æœˆæµ…åŸæ–‡ç« ä¸æ˜¾ç¤ºï¼Ÿ
A: æ£€æŸ¥æ–‡ç«  front matter æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼Œç¡®ä¿ `published` å­—æ®µå­˜åœ¨

### Q: å›¾ç‰‡ä¸æ˜¾ç¤ºï¼Ÿ
A: æ£€æŸ¥å›¾ç‰‡è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼Œç¡®ä¿ä½¿ç”¨ `/images/` å¼€å¤´çš„ç»å¯¹è·¯å¾„

### Q: å¦‚ä½•ä¿®æ”¹ä¸»é¢˜é¢œè‰²ï¼Ÿ
A: åœ¨ `src/config.ts` ä¸­ä¿®æ”¹ `themeColor.hue` å€¼

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š
1. æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£
2. æ£€æŸ¥æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
3. å‚è€ƒ Astro å®˜æ–¹æ–‡æ¡£
4. æäº¤ Issue åˆ°é¡¹ç›®ä»“åº“

## ğŸ‰ å¼€å§‹ä½¿ç”¨

ç°åœ¨ä½ å¯ä»¥ï¼š
1. è¿è¡Œ `pnpm dev` å¯åŠ¨å¼€å‘æœåŠ¡å™¨
2. è®¿é—® `http://localhost:4321` æŸ¥çœ‹ç½‘ç«™
3. è®¿é—® `http://localhost:4321/memories/` æŸ¥çœ‹å²æœˆæµ…åŸåŠŸèƒ½
4. å¼€å§‹åˆ›å»ºä½ çš„å†…å®¹ï¼

---

**ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼** ğŸŒ¸
